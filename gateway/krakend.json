{
  "$schema": "https://www.krakend.io/schema/v3.json",
  "version": 3,
  "name": "TraWell - API Gateway",
  "port": 9000,
  "timeout": "3000ms",
  "cache_ttl": "300s",
  "output_encoding": "no-op",
  "extra_config": {
    "security/cors": {
      "allow_origins": [
        "http*"
      ],
      "allow_methods": [
        "GET",
        "HEAD",
        "POST",
        "PUT",
        "PATCH",
        "DELETE",
        "OPTIONS"
      ],
      "expose_headers": [
        "*"
      ],
      "allow_headers": [
        "*"
      ],
      "max_age": "12h",
      "allow_credentials": true,
      "debug": false
    }
  },
  "endpoints": [
    {
      "endpoint": "/keycloak-protected",
      "output_encoding": "no-op",
      "input_headers": ["*"],
      "extra_config": {
        "auth/validator": {
          "alg": "RS256",
          "jwk_url": "http://trawell.westeurope.cloudapp.azure.com:8403/auth/realms/TraWell/protocol/openid-connect/certs",
          "issuer": "http://trawell.westeurope.cloudapp.azure.com:8403/auth/realms/TraWell",
          "disable_jwk_security": true,
          "cache": true
        }
      },
      "backend": [
        {
          "url_pattern": "/__health",
          "encoding": "no-op",
          "extra_config": {
            "github.com/devopsfaith/krakend-martian": {
              "header.Blacklist": {
                "scope": [
                  "response"
                ],
                "names": [
                  "Access-Control-Allow-Origin"
                ]
              }
            }
          },
          "host": [
            "host.docker.internal:9000"
          ]
        }
      ]
    },
    {
      "endpoint": "/authenticate",
      "method": "GET",
      "output_encoding": "no-op",
      "input_headers": ["*"],
      "extra_config": {
        "auth/validator": {
          "alg": "RS256",
          "jwk_url": "http://trawell.westeurope.cloudapp.azure.com:8403/auth/realms/TraWell/protocol/openid-connect/certs",
          "issuer": "http://trawell.westeurope.cloudapp.azure.com:8403/auth/realms/TraWell",
          "disable_jwk_security": true
        }
      },
      "backend": [
        {
          "url_pattern": "/authenticate",
          "encoding": "no-op",
          "method": "GET",
          "extra_config": {
            "github.com/devopsfaith/krakend-martian": {
              "header.Blacklist": {
                "scope": [
                  "response"
                ],
                "names": [
                  "Access-Control-Allow-Origin"
                ]
              }
            }
          },
          "host": [
            "host.docker.internal:8003"
          ]
        }
      ]
    },
    {
      "endpoint": "/rides/get_filtered/",
      "method": "GET",
      "output_encoding": "no-op",
      "input_headers": ["*"],
      "input_query_strings": [
        "page",
        "city_from",
        "city_from_state",
        "city_from_county",
        "city_from_lat",
        "city_from_lng",
        "city_to",
        "city_to_state",
        "city_to_county",
        "city_to_lat",
        "city_to_lng",
        "ride_type",
        "driver_rate",
        "start_date",
        "seats",
        "price_from",
        "price_to",
        "ordering"
      ],
      "backend": [
        {
          "url_pattern": "/rides/get_filtered/",
          "encoding": "no-op",
          "method": "GET",
          "extra_config": {
            "github.com/devopsfaith/krakend-martian": {
              "header.Blacklist": {
                "scope": [
                  "response"
                ],
                "names": [
                  "Access-Control-Allow-Origin"
                ]
              }
            }
          },
          "host": [
            "host.docker.internal:8001"
          ]
        }
      ]
    },
    {
      "endpoint": "/rides/",
      "method": "POST",
      "output_encoding": "no-op",
      "input_headers": ["*"],
      "extra_config": {
        "auth/validator": {
          "alg": "RS256",
          "jwk_url": "http://trawell.westeurope.cloudapp.azure.com:8403/auth/realms/TraWell/protocol/openid-connect/certs",
          "issuer": "http://trawell.westeurope.cloudapp.azure.com:8403/auth/realms/TraWell",
          "disable_jwk_security": true
        }
      },
      "backend": [
        {
          "url_pattern": "/rides/",
          "extra_config": {
            "backend/http": {
              "return_error_details": "ride_serivce"
            }
          },
          "encoding": "no-op",
          "method": "POST",
          "extra_config": {
            "github.com/devopsfaith/krakend-martian": {
              "header.Blacklist": {
                "scope": [
                  "response"
                ],
                "names": [
                  "Access-Control-Allow-Origin"
                ]
              }
            }
          },
          "host": [
            "host.docker.internal:8001"
          ]
        }
      ]
    },
    {
      "endpoint": "/rides/{ride_id}/",
      "method": "PATCH",
      "output_encoding": "no-op",
      "input_headers": ["*"],
      "input_query_strings": ["*"],
      "extra_config": {
        "auth/validator": {
          "alg": "RS256",
          "jwk_url": "http://trawell.westeurope.cloudapp.azure.com:8403/auth/realms/TraWell/protocol/openid-connect/certs",
          "issuer": "http://trawell.westeurope.cloudapp.azure.com:8403/auth/realms/TraWell",
          "disable_jwk_security": true
        }
      },
      "backend": [
        {
          "url_pattern": "/rides/{ride_id}/",
          "extra_config": {
            "backend/http": {
              "return_error_details": "ride_serivce"
            }
          },
          "encoding": "no-op",
          "method": "PATCH",
          "extra_config": {
            "github.com/devopsfaith/krakend-martian": {
              "header.Blacklist": {
                "scope": [
                  "response"
                ],
                "names": [
                  "Access-Control-Allow-Origin"
                ]
              }
            }
          },
          "host": [
            "host.docker.internal:8001"
          ]
        }
      ],
      "input_query_strings": [
        "{ride_id}"
      ]
    },
    {
      "endpoint": "/rides/{ride_id}/",
      "method": "GET",
      "output_encoding": "no-op",
      "input_headers": ["*"],
      "extra_config": {
        "auth/validator": {
          "alg": "RS256",
          "jwk_url": "http://trawell.westeurope.cloudapp.azure.com:8403/auth/realms/TraWell/protocol/openid-connect/certs",
          "issuer": "http://trawell.westeurope.cloudapp.azure.com:8403/auth/realms/TraWell",
          "disable_jwk_security": true
        }
      },
      "backend": [
        {
          "url_pattern": "/rides/{ride_id}/",
          "encoding": "no-op",
          "method": "GET",
          "extra_config": {
            "github.com/devopsfaith/krakend-martian": {
              "header.Blacklist": {
                "scope": [
                  "response"
                ],
                "names": [
                  "Access-Control-Allow-Origin"
                ]
              }
            }
          },
          "host": [
            "host.docker.internal:8001"
          ]
        }
      ],
      "input_query_strings": [
        "{ride_id}"
      ]
    },
    {
      "endpoint": "/rides/{ride_id}/",
      "method": "DELETE",
      "output_encoding": "no-op",
      "input_headers": ["*"],
      "extra_config": {
        "auth/validator": {
          "alg": "RS256",
          "jwk_url": "http://trawell.westeurope.cloudapp.azure.com:8403/auth/realms/TraWell/protocol/openid-connect/certs",
          "issuer": "http://trawell.westeurope.cloudapp.azure.com:8403/auth/realms/TraWell",
          "disable_jwk_security": true
        }
      },
      "backend": [
        {
          "url_pattern": "/rides/{ride_id}/",
          "encoding": "no-op",
          "method": "DELETE",
          "extra_config": {
            "github.com/devopsfaith/krakend-martian": {
              "header.Blacklist": {
                "scope": [
                  "response"
                ],
                "names": [
                  "Access-Control-Allow-Origin"
                ]
              }
            }
          },
          "host": [
            "host.docker.internal:8001"
          ]
        }
      ],
      "input_query_strings": [
        "{ride_id}"
      ]
    },
    {
      "endpoint": "/rides/user_rides/",
      "method": "GET",
      "output_encoding": "no-op",
      "input_headers": ["*"],
      "input_query_strings": [
        "page",
        "city_from",
        "city_from_state",
        "city_from_county",
        "city_from_lat",
        "city_from_lng",
        "city_to",
        "city_to_state",
        "city_to_county",
        "city_to_lat",
        "city_to_lng",
        "ride_type",
        "driver_rate",
        "start_date",
        "seats",
        "price_from",
        "price_to",
        "ordering",
        "user_type"
      ],
      "extra_config": {
        "auth/validator": {
          "alg": "RS256",
          "jwk_url": "http://trawell.westeurope.cloudapp.azure.com:8403/auth/realms/TraWell/protocol/openid-connect/certs",
          "issuer": "http://trawell.westeurope.cloudapp.azure.com:8403/auth/realms/TraWell",
          "disable_jwk_security": true
        }
      },
      "backend": [
        {
          "url_pattern": "/rides/user_rides/",
          "encoding": "no-op",
          "method": "GET",
          "extra_config": {
            "github.com/devopsfaith/krakend-martian": {
              "header.Blacklist": {
                "scope": [
                  "response"
                ],
                "names": [
                  "Access-Control-Allow-Origin"
                ]
              }
            }
          },
          "host": [
            "host.docker.internal:8001"
          ]
        }
      ]
    },
    {
      "endpoint": "/rides/{ride_id}/check_edition_permissions/",
      "method": "GET",
      "output_encoding": "no-op",
      "input_headers": ["*"],
      "extra_config": {
        "auth/validator": {
          "alg": "RS256",
          "jwk_url": "http://trawell.westeurope.cloudapp.azure.com:8403/auth/realms/TraWell/protocol/openid-connect/certs",
          "issuer": "http://trawell.westeurope.cloudapp.azure.com:8403/auth/realms/TraWell",
          "disable_jwk_security": true
        }
      },
      "backend": [
        {
          "url_pattern": "/rides/{ride_id}/check_edition_permissions/",
          "encoding": "no-op",
          "method": "GET",
          "extra_config": {
            "github.com/devopsfaith/krakend-martian": {
              "header.Blacklist": {
                "scope": [
                  "response"
                ],
                "names": [
                  "Access-Control-Allow-Origin"
                ]
              }
            }
          },
          "host": [
            "host.docker.internal:8001"
          ]
        }
      ],
      "input_query_strings": [
        "{ride_id}"
      ]
    },
    {
      "endpoint": "/recurrent_rides/",
      "method": "POST",
      "output_encoding": "no-op",
      "input_headers": ["*"],
      "extra_config": {
        "auth/validator": {
          "alg": "RS256",
          "jwk_url": "http://trawell.westeurope.cloudapp.azure.com:8403/auth/realms/TraWell/protocol/openid-connect/certs",
          "issuer": "http://trawell.westeurope.cloudapp.azure.com:8403/auth/realms/TraWell",
          "disable_jwk_security": true
        }
      },
      "backend": [
        {
          "url_pattern": "/recurrent_rides/",
          "extra_config": {
            "backend/http": {
              "return_error_details": "ride_service"
            }
          },
          "encoding": "no-op",
          "method": "POST",
          "extra_config": {
            "github.com/devopsfaith/krakend-martian": {
              "header.Blacklist": {
                "scope": [
                  "response"
                ],
                "names": [
                  "Access-Control-Allow-Origin"
                ]
              }
            }
          },
          "host": [
            "host.docker.internal:8001"
          ]
        }
      ]
    },
    {
      "endpoint": "/recurrent_rides/{ride_id}/",
      "method": "PATCH",
      "output_encoding": "no-op",
      "input_headers": ["*"],
      "extra_config": {
        "auth/validator": {
          "alg": "RS256",
          "jwk_url": "http://trawell.westeurope.cloudapp.azure.com:8403/auth/realms/TraWell/protocol/openid-connect/certs",
          "issuer": "http://trawell.westeurope.cloudapp.azure.com:8403/auth/realms/TraWell",
          "disable_jwk_security": true
        }
      },
      "backend": [
        {
          "url_pattern": "/recurrent_rides/{ride_id}/",
          "extra_config": {
            "backend/http": {
              "return_error_details": "ride_serivce"
            }
          },
          "encoding": "no-op",
          "method": "PATCH",
          "extra_config": {
            "github.com/devopsfaith/krakend-martian": {
              "header.Blacklist": {
                "scope": [
                  "response"
                ],
                "names": [
                  "Access-Control-Allow-Origin"
                ]
              }
            }
          },
          "host": [
            "host.docker.internal:8001"
          ]
        }
      ],
      "input_query_strings": [
        "{ride_id}"
      ]
    },
    {
      "endpoint": "/recurrent_rides/{ride_id}/",
      "method": "GET",
      "output_encoding": "no-op",
      "input_headers": ["*"],
      "extra_config": {
        "auth/validator": {
          "alg": "RS256",
          "jwk_url": "http://trawell.westeurope.cloudapp.azure.com:8403/auth/realms/TraWell/protocol/openid-connect/certs",
          "issuer": "http://trawell.westeurope.cloudapp.azure.com:8403/auth/realms/TraWell",
          "disable_jwk_security": true
        }
      },
      "backend": [
        {
          "url_pattern": "/recurrent_rides/{ride_id}/",
          "encoding": "no-op",
          "method": "GET",
          "extra_config": {
            "github.com/devopsfaith/krakend-martian": {
              "header.Blacklist": {
                "scope": [
                  "response"
                ],
                "names": [
                  "Access-Control-Allow-Origin"
                ]
              }
            }
          },
          "host": [
            "host.docker.internal:8001"
          ]
        }
      ],
      "input_query_strings": [
        "{ride_id}"
      ]
    },
    {
      "endpoint": "/recurrent_rides/{ride_id}/",
      "method": "DELETE",
      "output_encoding": "no-op",
      "input_headers": ["*"],
      "extra_config": {
        "auth/validator": {
          "alg": "RS256",
          "jwk_url": "http://trawell.westeurope.cloudapp.azure.com:8403/auth/realms/TraWell/protocol/openid-connect/certs",
          "issuer": "http://trawell.westeurope.cloudapp.azure.com:8403/auth/realms/TraWell",
          "disable_jwk_security": true
        }
      },
      "backend": [
        {
          "url_pattern": "/recurrent_rides/{ride_id}/",
          "encoding": "no-op",
          "method": "DELETE",
          "extra_config": {
            "github.com/devopsfaith/krakend-martian": {
              "header.Blacklist": {
                "scope": [
                  "response"
                ],
                "names": [
                  "Access-Control-Allow-Origin"
                ]
              }
            }
          },
          "host": [
            "host.docker.internal:8001"
          ]
        }
      ],
      "input_query_strings": [
        "{ride_id}"
      ]
    },
    {
      "endpoint": "/recurrent_rides/user_rides/",
      "method": "GET",
      "output_encoding": "no-op",
      "input_headers": ["*"],
      "input_query_strings": [
        "page",
        "city_from",
        "city_from_state",
        "city_from_county",
        "city_from_lat",
        "city_from_lng",
        "city_to",
        "city_to_state",
        "city_to_county",
        "city_to_lat",
        "city_to_lng",
        "ride_type",
        "driver_rate",
        "start_date",
        "seats",
        "price_from",
        "price_to",
        "ordering",
        "user_type"
      ],
      "extra_config": {
        "auth/validator": {
          "alg": "RS256",
          "jwk_url": "http://trawell.westeurope.cloudapp.azure.com:8403/auth/realms/TraWell/protocol/openid-connect/certs",
          "issuer": "http://trawell.westeurope.cloudapp.azure.com:8403/auth/realms/TraWell",
          "disable_jwk_security": true
        }
      },
      "backend": [
        {
          "url_pattern": "/recurrent_rides/user_rides/",
          "encoding": "no-op",
          "method": "GET",
          "extra_config": {
            "github.com/devopsfaith/krakend-martian": {
              "header.Blacklist": {
                "scope": [
                  "response"
                ],
                "names": [
                  "Access-Control-Allow-Origin"
                ]
              }
            }
          },
          "host": [
            "host.docker.internal:8001"
          ]
        }
      ]
    },
    {
      "endpoint": "/requests/",
      "method": "POST",
      "output_encoding": "no-op",
      "input_headers": ["*"],
      "extra_config": {
        "auth/validator": {
          "alg": "RS256",
          "jwk_url": "http://trawell.westeurope.cloudapp.azure.com:8403/auth/realms/TraWell/protocol/openid-connect/certs",
          "issuer": "http://trawell.westeurope.cloudapp.azure.com:8403/auth/realms/TraWell",
          "disable_jwk_security": true
        }
      },
      "backend": [
        {
          "url_pattern": "/requests/",
          "encoding": "no-op",
          "method": "POST",
          "extra_config": {
            "github.com/devopsfaith/krakend-martian": {
              "header.Blacklist": {
                "scope": [
                  "response"
                ],
                "names": [
                  "Access-Control-Allow-Origin"
                ]
              }
            }
          },
          "host": [
            "host.docker.internal:8001"
          ]
        }
      ]
    },
    {
      "endpoint": "/requests/{request_id}/",
      "method": "DELETE",
      "output_encoding": "no-op",
      "input_headers": ["*"],
      "extra_config": {
        "auth/validator": {
          "alg": "RS256",
          "jwk_url": "http://trawell.westeurope.cloudapp.azure.com:8403/auth/realms/TraWell/protocol/openid-connect/certs",
          "issuer": "http://trawell.westeurope.cloudapp.azure.com:8403/auth/realms/TraWell",
          "disable_jwk_security": true
        }
      },
      "backend": [
        {
          "url_pattern": "/requests/{request_id}/",
          "encoding": "no-op",
          "method": "DELETE",
          "extra_config": {
            "github.com/devopsfaith/krakend-martian": {
              "header.Blacklist": {
                "scope": [
                  "response"
                ],
                "names": [
                  "Access-Control-Allow-Origin"
                ]
              }
            }
          },
          "host": [
            "host.docker.internal:8001"
          ]
        }
      ],
      "input_query_strings": [
        "{request_id}"
      ]
    },
    {
      "endpoint": "/requests/{request_id}/decision/",
      "method": "POST",
      "output_encoding": "no-op",
      "input_headers": ["*"],
      "extra_config": {
        "auth/validator": {
          "alg": "RS256",
          "jwk_url": "http://trawell.westeurope.cloudapp.azure.com:8403/auth/realms/TraWell/protocol/openid-connect/certs",
          "issuer": "http://trawell.westeurope.cloudapp.azure.com:8403/auth/realms/TraWell",
          "disable_jwk_security": true
        }
      },
      "backend": [
        {
          "url_pattern": "/requests/{request_id}/decision/",
          "encoding": "no-op",
          "method": "POST",
          "extra_config": {
            "github.com/devopsfaith/krakend-martian": {
              "header.Blacklist": {
                "scope": [
                  "response"
                ],
                "names": [
                  "Access-Control-Allow-Origin"
                ]
              }
            }
          },
          "host": [
            "host.docker.internal:8001"
          ]
        }
      ],
      "input_query_strings": [
        "{request_id}"
      ]
    },
    {
      "endpoint": "/requests/my_requests/",
      "method": "GET",
      "output_encoding": "no-op",
      "input_headers": ["*"],
      "input_query_strings": [
        "page",
        "city_from",
        "city_from_state",
        "city_from_county",
        "city_from_lat",
        "city_from_lng",
        "city_to",
        "city_to_state",
        "city_to_county",
        "city_to_lat",
        "city_to_lng",
        "start_date",
        "ordering",
        "decision"
      ],
      "extra_config": {
        "auth/validator": {
          "alg": "RS256",
          "jwk_url": "http://trawell.westeurope.cloudapp.azure.com:8403/auth/realms/TraWell/protocol/openid-connect/certs",
          "issuer": "http://trawell.westeurope.cloudapp.azure.com:8403/auth/realms/TraWell",
          "disable_jwk_security": true
        }
      },
      "backend": [
        {
          "url_pattern": "/requests/my_requests/",
          "encoding": "no-op",
          "method": "GET",
          "extra_config": {
            "github.com/devopsfaith/krakend-martian": {
              "header.Blacklist": {
                "scope": [
                  "response"
                ],
                "names": [
                  "Access-Control-Allow-Origin"
                ]
              }
            }
          },
          "host": [
            "host.docker.internal:8001"
          ]
        }
      ]
    },
    {
      "endpoint": "/requests/pending_requests/",
      "method": "GET",
      "output_encoding": "no-op",
      "input_headers": ["*"],
      "input_query_strings": [
        "page",
        "city_from",
        "city_from_state",
        "city_from_county",
        "city_from_lat",
        "city_from_lng",
        "city_to",
        "city_to_state",
        "city_to_county",
        "city_to_lat",
        "city_to_lng",
        "start_date",
        "ordering",
        "decision"
      ],
      "extra_config": {
        "auth/validator": {
          "alg": "RS256",
          "jwk_url": "http://trawell.westeurope.cloudapp.azure.com:8403/auth/realms/TraWell/protocol/openid-connect/certs",
          "issuer": "http://trawell.westeurope.cloudapp.azure.com:8403/auth/realms/TraWell",
          "disable_jwk_security": true
        }
      },
      "backend": [
        {
          "url_pattern": "/requests/pending_requests/",
          "encoding": "no-op",
          "method": "GET",
          "extra_config": {
            "github.com/devopsfaith/krakend-martian": {
              "header.Blacklist": {
                "scope": [
                  "response"
                ],
                "names": [
                  "Access-Control-Allow-Origin"
                ]
              }
            }
          },
          "host": [
            "host.docker.internal:8001"
          ]
        }
      ]
    },
    {
      "endpoint": "/history_rides/user_rides/",
      "method": "GET",
      "output_encoding": "no-op",
      "input_headers": ["*"],
      "input_query_strings": [
        "page",
        "city_from",
        "city_from_state",
        "city_from_county",
        "city_from_lat",
        "city_from_lng",
        "city_to",
        "city_to_state",
        "city_to_county",
        "city_to_lat",
        "city_to_lng",
        "ride_type",
        "driver_rate",
        "start_date",
        "seats",
        "price_from",
        "price_to",
        "ordering",
        "user_type"
      ],
      "extra_config": {
        "auth/validator": {
          "alg": "RS256",
          "jwk_url": "http://trawell.westeurope.cloudapp.azure.com:8403/auth/realms/TraWell/protocol/openid-connect/certs",
          "issuer": "http://trawell.westeurope.cloudapp.azure.com:8403/auth/realms/TraWell",
          "disable_jwk_security": true
        }
      },
      "backend": [
        {
          "url_pattern": "/history_rides/user_rides/",
          "encoding": "no-op",
          "method": "GET",
          "extra_config": {
            "github.com/devopsfaith/krakend-martian": {
              "header.Blacklist": {
                "scope": [
                  "response"
                ],
                "names": [
                  "Access-Control-Allow-Origin"
                ]
              }
            }
          },
          "host": [
            "host.docker.internal:8001"
          ]
        }
      ]
    },
    {
      "endpoint": "/history_recurrent_rides/user_rides/",
      "method": "GET",
      "output_encoding": "no-op",
      "input_headers": ["*"],
      "input_query_strings": [
        "page",
        "city_from",
        "city_from_state",
        "city_from_county",
        "city_from_lat",
        "city_from_lng",
        "city_to",
        "city_to_state",
        "city_to_county",
        "city_to_lat",
        "city_to_lng",
        "ride_type",
        "driver_rate",
        "start_date",
        "seats",
        "price_from",
        "price_to",
        "ordering"
      ],
      "extra_config": {
        "auth/validator": {
          "alg": "RS256",
          "jwk_url": "http://trawell.westeurope.cloudapp.azure.com:8403/auth/realms/TraWell/protocol/openid-connect/certs",
          "issuer": "http://trawell.westeurope.cloudapp.azure.com:8403/auth/realms/TraWell",
          "disable_jwk_security": true
        }
      },
      "backend": [
        {
          "url_pattern": "/history_recurrent_rides/user_rides/",
          "encoding": "no-op",
          "method": "GET",
          "extra_config": {
            "github.com/devopsfaith/krakend-martian": {
              "header.Blacklist": {
                "scope": [
                  "response"
                ],
                "names": [
                  "Access-Control-Allow-Origin"
                ]
              }
            }
          },
          "host": [
            "host.docker.internal:8001"
          ]
        }
      ]
    },
    {
      "endpoint": "/users/{user_id}",
      "method": "GET",
      "output_encoding": "no-op",
      "input_headers": ["*"],
      "extra_config": {
        "auth/validator": {
          "alg": "RS256",
          "jwk_url": "http://trawell.westeurope.cloudapp.azure.com:8403/auth/realms/TraWell/protocol/openid-connect/certs",
          "issuer": "http://trawell.westeurope.cloudapp.azure.com:8403/auth/realms/TraWell",
          "disable_jwk_security": true
        }
      },
      "backend": [
        {
          "url_pattern": "/users/{user_id}",
          "encoding": "no-op",
          "method": "GET",
          "extra_config": {
            "github.com/devopsfaith/krakend-martian": {
              "header.Blacklist": {
                "scope": [
                  "response"
                ],
                "names": [
                  "Access-Control-Allow-Origin"
                ]
              }
            }
          },
          "host": [
            "host.docker.internal:8003"
          ]
        }
      ],
      "input_query_strings": [
        "{user_id}"
      ]
    },
    {
      "endpoint": "/users/{user_id}",
      "method": "PATCH",
      "output_encoding": "no-op",
      "input_headers": ["*"],
      "extra_config": {
        "auth/validator": {
          "alg": "RS256",
          "jwk_url": "http://trawell.westeurope.cloudapp.azure.com:8403/auth/realms/TraWell/protocol/openid-connect/certs",
          "issuer": "http://trawell.westeurope.cloudapp.azure.com:8403/auth/realms/TraWell",
          "disable_jwk_security": true
        }
      },
      "backend": [
        {
          "url_pattern": "/users/{user_id}",
          "encoding": "no-op",
          "method": "PATCH",
          "extra_config": {
            "github.com/devopsfaith/krakend-martian": {
              "header.Blacklist": {
                "scope": [
                  "response"
                ],
                "names": [
                  "Access-Control-Allow-Origin"
                ]
              }
            }
          },
          "host": [
            "host.docker.internal:8003"
          ]
        }
      ],
      "input_query_strings": [
        "{user_id}"
      ]
    },
    {
      "endpoint": "/users/me",
      "method": "GET",
      "output_encoding": "no-op",
      "input_headers": ["*"],
      "extra_config": {
        "auth/validator": {
          "alg": "RS256",
          "jwk_url": "http://trawell.westeurope.cloudapp.azure.com:8403/auth/realms/TraWell/protocol/openid-connect/certs",
          "issuer": "http://trawell.westeurope.cloudapp.azure.com:8403/auth/realms/TraWell",
          "disable_jwk_security": true
        }
      },
      "backend": [
        {
          "url_pattern": "/users/me",
          "encoding": "no-op",
          "method": "GET",
          "extra_config": {
            "github.com/devopsfaith/krakend-martian": {
              "header.Blacklist": {
                "scope": [
                  "response"
                ],
                "names": [
                  "Access-Control-Allow-Origin"
                ]
              }
            }
          },
          "host": [
            "http://localhost:8003"
          ]
        }
      ]
    },
    {
      "endpoint": "/users/check_user",
      "method": "GET",
      "output_encoding": "no-op",
      "input_headers": ["*"],
      "extra_config": {
        "auth/validator": {
          "alg": "RS256",
          "jwk_url": "http://trawell.westeurope.cloudapp.azure.com:8403/auth/realms/TraWell/protocol/openid-connect/certs",
          "issuer": "http://trawell.westeurope.cloudapp.azure.com:8403/auth/realms/TraWell",
          "disable_jwk_security": true
        }
      },
      "backend": [
        {
          "url_pattern": "/users/check_user",
          "encoding": "no-op",
          "method": "GET",
          "extra_config": {
            "github.com/devopsfaith/krakend-martian": {
              "header.Blacklist": {
                "scope": [
                  "response"
                ],
                "names": [
                  "Access-Control-Allow-Origin"
                ]
              }
            }
          },
          "host": [
            "http://trawell.westeurope.cloudapp.azure.com:8003"
          ]
        }
      ]
    },
    {
      "endpoint": "/vehicles/user_vehicles/{user_id}",
      "method": "GET",
      "output_encoding": "no-op",
      "input_headers": ["*"],
      "extra_config": {
        "auth/validator": {
          "alg": "RS256",
          "jwk_url": "http://trawell.westeurope.cloudapp.azure.com:8403/auth/realms/TraWell/protocol/openid-connect/certs",
          "issuer": "http://trawell.westeurope.cloudapp.azure.com:8403/auth/realms/TraWell",
          "disable_jwk_security": true
        }
      },
      "backend": [
        {
          "url_pattern": "/vehicles/user_vehicles/{user_id}",
          "encoding": "no-op",
          "method": "GET",
          "extra_config": {
            "github.com/devopsfaith/krakend-martian": {
              "header.Blacklist": {
                "scope": [
                  "response"
                ],
                "names": [
                  "Access-Control-Allow-Origin"
                ]
              }
            }
          },
          "host": [
            "host.docker.internal:8003"
          ]
        }
      ],
      "input_query_strings": [
        "{user_id}"
      ]
    },
    {
      "endpoint": "/vehicles/user_vehicles/{user_id}",
      "method": "POST",
      "output_encoding": "no-op",
      "input_headers": ["*"],
      "extra_config": {
        "auth/validator": {
          "alg": "RS256",
          "jwk_url": "http://trawell.westeurope.cloudapp.azure.com:8403/auth/realms/TraWell/protocol/openid-connect/certs",
          "issuer": "http://trawell.westeurope.cloudapp.azure.com:8403/auth/realms/TraWell",
          "disable_jwk_security": true
        }
      },
      "backend": [
        {
          "url_pattern": "/vehicles/user_vehicles/{user_id}",
          "encoding": "no-op",
          "method": "POST",
          "extra_config": {
            "github.com/devopsfaith/krakend-martian": {
              "header.Blacklist": {
                "scope": [
                  "response"
                ],
                "names": [
                  "Access-Control-Allow-Origin"
                ]
              }
            }
          },
          "host": [
            "host.docker.internal:8003"
          ]
        }
      ],
      "input_query_strings": [
        "{user_id}"
      ]
    },
    {
      "endpoint": "/vehicles/{car_id}",
      "method": "DELETE",
      "output_encoding": "no-op",
      "input_headers": ["*"],
      "extra_config": {
        "auth/validator": {
          "alg": "RS256",
          "jwk_url": "http://trawell.westeurope.cloudapp.azure.com:8403/auth/realms/TraWell/protocol/openid-connect/certs",
          "issuer": "http://trawell.westeurope.cloudapp.azure.com:8403/auth/realms/TraWell",
          "disable_jwk_security": true
        }
      },
      "backend": [
        {
          "url_pattern": "/vehicles/{car_id}",
          "encoding": "no-op",
          "method": "DELETE",
          "extra_config": {
            "github.com/devopsfaith/krakend-martian": {
              "header.Blacklist": {
                "scope": [
                  "response"
                ],
                "names": [
                  "Access-Control-Allow-Origin"
                ]
              }
            }
          },
          "host": [
            "host.docker.internal:8003"
          ]
        }
      ],
      "input_query_strings": [
        "{car_id}"
      ]
    },
    {
      "endpoint": "/vehicles/{car_id}",
      "method": "PATCH",
      "output_encoding": "no-op",
      "input_headers": ["*"],
      "extra_config": {
        "auth/validator": {
          "alg": "RS256",
          "jwk_url": "http://trawell.westeurope.cloudapp.azure.com:8403/auth/realms/TraWell/protocol/openid-connect/certs",
          "issuer": "http://trawell.westeurope.cloudapp.azure.com:8403/auth/realms/TraWell",
          "disable_jwk_security": true
        }
      },
      "backend": [
        {
          "url_pattern": "/vehicles/{car_id}",
          "encoding": "no-op",
          "method": "PATCH",
          "extra_config": {
            "github.com/devopsfaith/krakend-martian": {
              "header.Blacklist": {
                "scope": [
                  "response"
                ],
                "names": [
                  "Access-Control-Allow-Origin"
                ]
              }
            }
          },
          "host": [
            "host.docker.internal:8003"
          ]
        }
      ],
      "input_query_strings": [
        "{car_id}"
      ]
    },
    {
      "endpoint": "/reviews/user_reviews/{user_id}",
      "method": "GET",
      "output_encoding": "no-op",
      "input_headers": ["*"],
      "extra_config": {
        "auth/validator": {
          "alg": "RS256",
          "jwk_url": "http://trawell.westeurope.cloudapp.azure.com:8403/auth/realms/TraWell/protocol/openid-connect/certs",
          "issuer": "http://trawell.westeurope.cloudapp.azure.com:8403/auth/realms/TraWell",
          "disable_jwk_security": true
        }
      },
      "backend": [
        {
          "url_pattern": "/reviews/user_reviews/{user_id}",
          "encoding": "no-op",
          "method": "GET",
          "extra_config": {
            "github.com/devopsfaith/krakend-martian": {
              "header.Blacklist": {
                "scope": [
                  "response"
                ],
                "names": [
                  "Access-Control-Allow-Origin"
                ]
              }
            }
          },
          "host": [
            "host.docker.internal:8004"
          ]
        }
      ],
      "input_query_strings": [
        "{user_id}",
        "user_type",
        "rating_order",
        "page",
        "page_size",
        "rating_from",
        "rating_to"
      ]
    },
    {
      "endpoint": "/reviews/user_reviews/{user_id}",
      "method": "POST",
      "output_encoding": "no-op",
      "input_headers": ["*"],
      "extra_config": {
        "auth/validator": {
          "alg": "RS256",
          "jwk_url": "http://trawell.westeurope.cloudapp.azure.com:8403/auth/realms/TraWell/protocol/openid-connect/certs",
          "issuer": "http://trawell.westeurope.cloudapp.azure.com:8403/auth/realms/TraWell",
          "disable_jwk_security": true
        }
      },
      "backend": [
        {
          "url_pattern": "/reviews/user_reviews/{user_id}",
          "encoding": "no-op",
          "method": "POST",
          "extra_config": {
            "github.com/devopsfaith/krakend-martian": {
              "header.Blacklist": {
                "scope": [
                  "response"
                ],
                "names": [
                  "Access-Control-Allow-Origin"
                ]
              }
            }
          },
          "host": [
            "host.docker.internal:8004"
          ]
        }
      ],
      "input_query_strings": [
        "{user_id}"
      ]
    },
    {
      "endpoint": "/reviews/{review_id}",
      "method": "DELETE",
      "output_encoding": "no-op",
      "input_headers": ["*"],
      "extra_config": {
        "auth/validator": {
          "alg": "RS256",
          "jwk_url": "http://trawell.westeurope.cloudapp.azure.com:8403/auth/realms/TraWell/protocol/openid-connect/certs",
          "issuer": "http://trawell.westeurope.cloudapp.azure.com:8403/auth/realms/TraWell",
          "disable_jwk_security": true
        }
      },
      "backend": [
        {
          "url_pattern": "/reviews/{review_id}",
          "encoding": "no-op",
          "method": "DELETE",
          "extra_config": {
            "github.com/devopsfaith/krakend-martian": {
              "header.Blacklist": {
                "scope": [
                  "response"
                ],
                "names": [
                  "Access-Control-Allow-Origin"
                ]
              }
            }
          },
          "host": [
            "host.docker.internal:8004"
          ]
        }
      ],
      "input_query_strings": [
        "{review_id}"
      ]
    }
  ]
}